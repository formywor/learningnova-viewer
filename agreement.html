<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ScriptNova ‚Äî Organization/School Opt-Out Agreement</title>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#060e19; --bg2:#0a1526; --card:rgba(255,255,255,.06);
    --ink:#eaf2fa; --muted:#a6b3c1; --accent:#7dd3fc; --accent2:#34d399;
    --ring:rgba(125,211,252,.45); --danger:#ef4444; --ok:#22c55e; --warn:#f59e0b;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; font-family:Inter,system-ui,Segoe UI,Roboto,Arial,Helvetica,sans-serif;
    color:var(--ink); background:
      radial-gradient(1200px 600px at 20% -10%, #11213a 0%, transparent 60%),
      radial-gradient(900px 600px at 90% 10%, #0b2842 0%, transparent 55%),
      linear-gradient(180deg, var(--bg), var(--bg2));
    background-attachment: fixed;
  }
  .wrap{max-width:1100px;margin:0 auto;padding:24px}
  header{position:sticky;top:0;z-index:20;background:linear-gradient(180deg, rgba(6,14,25,.9), rgba(6,14,25,.65));backdrop-filter: blur(8px);border-bottom:1px solid rgba(125,211,252,.15)}
  header .bar{display:flex;gap:16px;align-items:center;justify-content:space-between;padding:10px 24px}
  .logo{font-weight:800;letter-spacing:.3px}
  .pill{border:1px solid rgba(255,255,255,.15);padding:4px 10px;border-radius:999px;color:var(--muted);font-size:.85rem}
  .content{background:var(--card);border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:24px;margin-top:20px}
  h1{margin:.2em 0 .4em 0;font-size:1.9rem}
  h2{margin:1.6em 0 .6em;font-size:1.3rem;color:#dbeafe}
  h3{margin:1.2em 0 .5em;font-size:1.05rem;color:#c7d2fe}
  p{line-height:1.7;color:#d7e2ee}
  ul,ol{line-height:1.7;color:#d7e2ee}
  .callout{border-left:4px solid var(--accent);background:rgba(125,211,252,.08);padding:14px 16px;border-radius:8px;margin:16px 0}
  .grid{display:grid;grid-template-columns:1fr;gap:16px}
  @media(min-width:900px){.grid{grid-template-columns:2fr 1fr}}
  .box{background:#0c1729;border:1px solid rgba(255,255,255,.08);border-radius:14px;padding:18px}
  .muted{color:var(--muted)}
  .hr{height:1px;background:linear-gradient(90deg,transparent,rgba(255,255,255,.15),transparent);margin:22px 0}
  .list-tight li{margin:.35em 0}
  .agree-guard{display:flex;gap:10px;align-items:flex-start;background:rgba(52,211,153,.08);border:1px solid rgba(52,211,153,.25);padding:12px 14px;border-radius:10px}
  .agree-guard input{margin-top:.25rem}
  form{display:grid;gap:14px}
  label{font-weight:600}
  input,select,textarea{
    width:100%;background:#07101c;color:var(--ink);border:1px solid rgba(255,255,255,.12);
    border-radius:10px;padding:10px 12px;outline:none
  }
  textarea{min-height:140px;resize:vertical}
  input:focus,textarea:focus,select:focus{border-color:var(--accent);box-shadow:0 0 0 4px var(--ring)}
  .row{display:grid;gap:12px}
  @media(min-width:780px){.row{grid-template-columns:1fr 1fr}}
  .btn{
    border:1px solid rgba(255,255,255,.18);background:linear-gradient(180deg,#1a2b44,#13243b);
    padding:12px 16px;border-radius:12px;color:white;font-weight:700;cursor:pointer;display:inline-flex;gap:10px;align-items:center;justify-content:center
  }
  .btn[disabled]{opacity:.5;cursor:not-allowed}
  .btn.primary{background:linear-gradient(180deg,#1b4760,#15384e);border-color:rgba(125,211,252,.35)}
  .btn.danger{background:linear-gradient(180deg,#5e1a1a,#421515);border-color:rgba(239,68,68,.45)}
  .badge{font-size:.8rem;border:1px solid rgba(255,255,255,.18);padding:2px 8px;border-radius:999px;color:#cbd5e1}
  .badge.pending{border-color:rgba(245,158,11,.45);color:#fde68a}
  .note{font-size:.9rem;color:#b9c7d6}
  .small{font-size:.85rem}
  .mono{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace}
  .success{color:var(--ok)}
  .error{color:var(--danger)}
  .hidden{display:none!important}
  .table{width:100%;border-collapse:collapse}
  .table th,.table td{border-bottom:1px solid rgba(255,255,255,.08);padding:10px 8px;text-align:left}
  .sticky-bottom{position:sticky;bottom:0;background:linear-gradient(180deg, rgba(10,21,38,.2), rgba(10,21,38,.75));backdrop-filter: blur(8px);padding:12px;border-top:1px solid rgba(255,255,255,.12);display:flex;justify-content:space-between;align-items:center;gap:12px;margin-top:18px}
  .req::after{content:" *";color:#fda4af;font-weight:800}
</style>
</head>
<body>
<header>
  <div class="bar">
    <div class="logo">üõ°Ô∏è <strong>ScriptNova</strong> Opt-Out Agreement</div>
    <div class="pill">Policy ‚Ä¢ Compliance ‚Ä¢ Privacy</div>
  </div>
</header>

<div class="wrap">
  <div class="content">
    <h1>Organization/School Opt-Out Agreement (ScriptNova)</h1>
    <p class="muted small">Version 1.1 ‚Ä¢ Last updated: <span id="today"></span> ‚Ä¢ This Agreement governs the process by which an educational institution, district, or organization (‚Äú<strong>Requester</strong>‚Äù) elects to opt out of ScriptNova services for some or all of its users.</p>

    <div class="callout">
      <strong>Notice:</strong> One (1) school is currently <em>opted out by default</em>‚Äî<strong>Short Pump Middle School</strong>‚Äîreviewed and approved by ScriptNova admin <strong>David Y</strong>. An additional request for <strong>Godwin High School</strong> is marked <em>Pending review</em>. Approved entries appear below.
    </div>

    <div class="grid">
      <div class="box">
        <!-- BEGIN LONG-FORM AGREEMENT -->
        <h2>1. Purpose and Scope</h2>
        <p>
          This Organization/School Opt-Out Agreement (‚Äú<strong>Agreement</strong>‚Äù) sets out the terms under which the Requester instructs ScriptNova to restrict, disable, or otherwise prevent availability of ScriptNova services to a defined set of users, devices, networks, and/or domains within the Requester‚Äôs authority.
          The Agreement covers ScriptNova web properties, applications, APIs, SDKs, connectors, integrations, and ancillary services (collectively, the ‚Äú<strong>Services</strong>‚Äù).
        </p>

        <h2>2. Definitions</h2>
        <ul class="list-tight">
          <li><strong>Requester</strong>: The institution, district, or organization submitting a valid opt-out request under an authorized representative‚Äôs signature.</li>
          <li><strong>Covered Users</strong>: Individuals (students, staff, contractors, volunteers, or affiliates) within the Requester‚Äôs remit and within the scope declared in the submission form.</li>
          <li><strong>Identifiers</strong>: Data the Requester supplies to effect the opt-out, which may include domains, email suffixes, IP/CIDR ranges, device identifiers, SIS IDs, or roster metadata.</li>
          <li><strong>Personal Data / PII</strong>: Information that identifies or reasonably can identify a natural person, as defined by applicable law.</li>
          <li><strong>Processing</strong>: Any operation or set of operations performed on Personal Data, such as collection, storage, use, disclosure, or deletion.</li>
        </ul>

        <h2>3. Legal and Regulatory Background (Informational)</h2>
        <p>
          This section summarizes common frameworks that may be relevant to educational institutions and is provided for context only; it is not legal advice.
          Requester remains responsible for determining its own compliance obligations and obtaining independent counsel where needed.
        </p>
        <ol>
          <li><strong>FERPA (U.S.)</strong>: Governs education records maintained by educational agencies/institutions. Schools typically act as data controllers of education records.</li>
          <li><strong>COPPA (U.S.)</strong>: Addresses online data collection from children under 13. Schools may give consent on behalf of parents in limited educational contexts.</li>
          <li><strong>CCPA/CPRA (California)</strong>: Provides specific rights to California residents regarding personal information and regulates certain businesses/service providers.</li>
          <li><strong>GDPR (EU/EEA, as applicable)</strong>: Establishes controller/processor obligations and data subject rights, with potential extra-territorial reach.</li>
          <li><strong>State/Provincial Student Privacy Laws</strong>: Many jurisdictions impose sector-specific requirements on vendors serving K-12.</li>
        </ol>

        <h2>4. Authority and Representations</h2>
        <ol>
          <li>Requester represents it has actual authority to bind its institution and to direct ScriptNova to implement an Opt-Out for the scope it asserts.</li>
          <li>Requester warrants the identifiers it supplies are accurate, complete, and limited to populations it lawfully controls or represents.</li>
          <li>Requester agrees to indemnify ScriptNova against claims arising from inaccurate assertions of authority, mis-scoping, or unlawful requests.</li>
        </ol>

        <h2>5. Scope of Opt-Out and Technical Means</h2>
        <p>
          The Opt-Out may be implemented using one or more approaches: deny-listing organization email domains, restricting account creation/use, suppressing traffic by IP/CIDR, filtering device identifiers, or honoring roster-based rules.
          ScriptNova will use commercially reasonable efforts to honor the requested scope upon successful verification, subject to Section 6 (Limitations).
        </p>

        <h2>6. Limitations and Exclusions</h2>
        <ul class="list-tight">
          <li>ScriptNova cannot control third-party platforms or open web content outside its systems. An Opt-Out applies to ScriptNova-operated systems and integrations under ScriptNova‚Äôs control.</li>
          <li>Caching, content mirrors, archived data, or independent user actions may create residual exposure that is not fully eliminable by ScriptNova.</li>
          <li>Where perfect technical enforcement is infeasible, ScriptNova will document residual risk and the measures implemented.</li>
        </ul>

        <h2>7. Verification and Proof</h2>
        <p>
          ScriptNova may require reasonable proof of organizational control before enforcement, which could include one or more of: response from an email at the asserted domain, DNS TXT record, signed letter on official letterhead, or a verifiable district ticket ID.
          ScriptNova may refuse or pause enforcement until verification is complete.
        </p>

        <h2>8. Data Handling and Retention</h2>
        <ol>
          <li>Upon approval, ScriptNova will cease new Processing for Covered Users within scope and apply appropriate suppression lists.</li>
          <li>Security, audit, and fraud logs may be retained for a limited period to satisfy legal and operational obligations, then minimized or deleted in line with ScriptNova policy.</li>
          <li>Requester may submit lawful deletion requests where applicable; ScriptNova will evaluate and respond consistent with governing law.</li>
        </ol>

        <h2>9. Security Measures and Incident Response</h2>
        <p>
          ScriptNova maintains administrative, technical, and physical safeguards designed to protect data against unauthorized access and misuse. If an incident materially affecting Covered Users is identified, ScriptNova will notify Requester consistent with applicable law and its incident procedures.
        </p>

        <h2>10. Student and Parent/Guardian Considerations</h2>
        <ul class="list-tight">
          <li>For K-12, Requester is responsible for ensuring parental/guardian notices or consents are handled as required by law or policy.</li>
          <li>Requester acknowledges that individual families may still interact with public web content beyond ScriptNova‚Äôs control.</li>
        </ul>

        <h2>11. Third-Party Services</h2>
        <p>
          Where the Services interface with third-party platforms, those platforms‚Äô policies govern their own Processing.
          ScriptNova‚Äôs obligations extend to systems it operates or controls.
        </p>

        <h2>12. Service Changes and Deprecations</h2>
        <p>
          ScriptNova may alter or deprecate features from time to time. Opt-Out commitments will track materially equivalent controls where available; if not available, ScriptNova will document any enforcement gaps.
        </p>

        <h2>13. Disclaimer of Warranties</h2>
        <p>
          THE SERVICES AND OPT-OUT IMPLEMENTATIONS ARE PROVIDED ‚ÄúAS IS‚Äù AND ‚ÄúAS AVAILABLE.‚Äù SCRIPTNOVA DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT, TO THE MAXIMUM EXTENT PERMITTED BY LAW.
        </p>

        <h2>14. Limitation of Liability</h2>
        <p>
          TO THE MAXIMUM EXTENT PERMITTED BY LAW, NEITHER PARTY WILL BE LIABLE FOR INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, EXEMPLARY, OR PUNITIVE DAMAGES.
          SCRIPTNOVA‚ÄôS TOTAL LIABILITY RELATING TO THIS AGREEMENT WILL NOT EXCEED THE GREATER OF USD $100 OR THE AMOUNT PAID BY REQUESTER FOR THE SERVICES IN THE 12 MONTHS PRECEDING THE CLAIM.
        </p>

        <h2>15. Term, Termination, and Reversal</h2>
        <ul class="list-tight">
          <li>This Agreement becomes effective upon ScriptNova‚Äôs written approval of Requester‚Äôs submission.</li>
          <li>Requester may later request a reversal (opt-in) by authorized notice; ScriptNova may re-verify authority.</li>
          <li>ScriptNova may suspend or terminate enforcement if a submission is fraudulent, unlawful, or materially misleading.</li>
        </ul>

        <h2>16. Notices</h2>
        <p>
          Formal notices should be transmitted from a verified organizational channel (e.g., official email domain) or as a signed PDF on letterhead.
          Operational updates (acknowledgements, status, questions) may be sent to the contact designated in the submission form.
        </p>

        <h2>17. Dispute Resolution</h2>
        <p>
          The Parties will attempt to resolve disputes in good faith through administrative contacts first. If unresolved, either Party may seek relief in a court of competent jurisdiction as designated in Section 19.
        </p>

        <h2>18. Changes to this Agreement</h2>
        <p>
          ScriptNova may update this Agreement to reflect operational or legal changes. Material updates will be posted.
          Continued use of the opt-out intake after publication constitutes acceptance of the updated terms.
        </p>

        <h2>19. Governing Law and Venue</h2>
        <p>
          Unless applicable law requires otherwise, this Agreement is governed by the law of the State in which ScriptNova principally operates, excluding conflict-of-law rules.
          Venue lies in the courts of that State.
        </p>

        <h2>20. Entire Agreement; Order of Precedence</h2>
        <p>
          This Agreement and the verified submission (including the declared scope and identifiers) constitute the entire agreement regarding the Opt-Out.
          If a conflict arises between marketing pages and this Agreement, this Agreement controls.
        </p>

        <h2>21. Operational Annexes (Informational)</h2>
        <h3>Annex A ‚Äî Example Identifier Types</h3>
        <ul class="list-tight">
          <li>Email domains and subdomains (e.g., <span class="mono">district.k12.us</span>)</li>
          <li>IP ranges (CIDR notation), NAT egress IPs used by the Requester</li>
          <li>Device IDs or MDM-exported identifiers (hashed where feasible)</li>
          <li>Roster extracts (SIS IDs, student/staff group designations)</li>
        </ul>
        <h3>Annex B ‚Äî Residual Risk Examples</h3>
        <ul class="list-tight">
          <li>Public mirrors or caches not operated by ScriptNova</li>
          <li>Personal devices off the Requester‚Äôs network</li>
          <li>Users employing non-organizational accounts beyond Requester‚Äôs control</li>
        </ul>
        <h3>Annex C ‚Äî Verification Examples</h3>
        <ul class="list-tight">
          <li>Confirmation link sent to an address at the asserted domain</li>
          <li>Temporary DNS TXT record matching a code supplied by ScriptNova</li>
          <li>Signed letter on official letterhead naming the signatory and scope</li>
        </ul>
        <!-- END LONG-FORM AGREEMENT -->

        <div class="hr"></div>

        <div class="agree-guard">
          <input type="checkbox" id="readAgreement" />
          <label for="readAgreement">
            I have read and understood the Agreement above and I am authorized to submit an Opt-Out on behalf of my organization/school.
          </label>
        </div>

        <div class="sticky-bottom">
          <span class="small muted">You must confirm you‚Äôve read the Agreement to unlock the submission form.</span>
          <button class="btn" id="jumpToForm">Go to submission form</button>
        </div>
      </div>

      <aside class="box" aria-labelledby="approvedList">
        <h2 id="approvedList">Approved Opt-Outs (Public Record)</h2>
        <table class="table small">
          <thead>
            <tr><th>Organization/School</th><th>Status</th><th>Approved By</th><th>Effective</th></tr>
          </thead>
          <tbody id="approvedTbody">
            <tr>
              <td><span class="mono">Short Pump Middle School</span> <span class="badge">Default opt-out</span></td>
              <td>Approved</td>
              <td>Admin <strong>David Y</strong></td>
              <td><span id="approvedDate"></span></td>
            </tr>
            <tr>
              <td><span class="mono">Godwin High School</span> <span class="badge pending">Pending</span></td>
              <td>Under Review</td>
              <td>‚Äî</td>
              <td>‚Äî</td>
            </tr>
          </tbody>
        </table>
        <p class="note">Entries may be redacted for privacy unless disclosure is authorized. Status updates are reflected after review.</p>
      </aside>
    </div>

    <div class="hr"></div>

    <div class="box">
      <h2>Submit Organization/School Opt-Out Request</h2>
      <p class="muted small">Complete all required fields. Submissions are verified before enforcement. False or unauthorized submissions may be rejected.</p>

      <!-- FORM KEPT THE SAME -->
      <form id="optoutForm" novalidate>
        <!-- Honeypot -->
        <div class="hidden">
          <label for="hp">Leave this field empty</label>
          <input id="hp" name="hp" type="text" autocomplete="off" />
        </div>

        <div class="row">
          <div>
            <label class="req" for="orgName">Organization/School Name</label>
            <input id="orgName" name="orgName" required maxlength="160" placeholder="e.g., North Valley Unified School District" />
          </div>
          <div>
            <label class="req" for="officialRole">Your Official Role/Title</label>
            <input id="officialRole" name="officialRole" required maxlength="120" placeholder="e.g., Director of IT" />
          </div>
        </div>

        <div class="row">
          <div>
            <label class="req" for="contactName">Your Full Name</label>
            <input id="contactName" name="contactName" required maxlength="120" placeholder="First Last" />
          </div>
          <div>
            <label class="req" for="email">Official Email</label>
            <input id="email" name="email" type="email" required maxlength="180" placeholder="you@district.k12.us" />
          </div>
        </div>

        <div class="row">
          <div>
            <label for="orgDomain" class="req">Organization Email Domain</label>
            <input id="orgDomain" name="orgDomain" required maxlength="120" placeholder="district.k12.us" />
          </div>
          <div>
            <label for="phone">Contact Phone</label>
            <input id="phone" name="phone" type="tel" maxlength="40" placeholder="+1 (555) 555-5555" />
          </div>
        </div>

        <div>
          <label for="address">Organization Mailing Address</label>
          <input id="address" name="address" maxlength="200" placeholder="Street, City, State/Province, Postal Code, Country" />
        </div>

        <div class="row">
          <div>
            <label class="req" for="effectiveDate">Requested Effective Date</label>
            <input id="effectiveDate" name="effectiveDate" type="date" required />
          </div>
          <div>
            <label for="scope">Scope of Opt-Out</label>
            <select id="scope" name="scope">
              <option value="all">All users under org domain</option>
              <option value="students">Students only</option>
              <option value="staff">Staff only</option>
              <option value="custom">Custom (describe below)</option>
            </select>
          </div>
        </div>

        <div>
          <label class="req" for="description">Description / Justification</label>
          <textarea id="description" name="description" required maxlength="4000" placeholder="Explain why you want to opt out (legal basis, policy alignment, parent/guardian directives, etc.)"></textarea>
        </div>

        <div>
          <label for="otherDetails">Other Details (optional)</label>
          <textarea id="otherDetails" name="otherDetails" maxlength="4000" placeholder="IP ranges, email suffixes, device IDs, roster references, SIS IDs, etc."></textarea>
        </div>

        <div class="row">
          <div>
            <label class="req" for="signature">Digital Signature (type full name)</label>
            <input id="signature" name="signature" required maxlength="120" placeholder="Type your full name to sign" />
          </div>
          <div>
            <label class="req" for="authAttest">Authority Attestation</label>
            <select id="authAttest" name="authAttest" required>
              <option value="">Select one‚Ä¶</option>
              <option>I am authorized to bind my organization</option>
              <option>I am not authorized (will attach signed letter)</option>
            </select>
          </div>
        </div>

        <div class="agree-guard">
          <input type="checkbox" id="confirmRead" />
          <label for="confirmRead">I confirm I have read the Agreement above and that the information provided is accurate and truthful.</label>
        </div>

        <div class="row">
          <button class="btn primary" id="submitBtn" type="submit" disabled>Submit Opt-Out Request</button>
          <button class="btn danger" type="reset">Clear</button>
        </div>

        <div id="formStatus" class="small muted" role="status" aria-live="polite"></div>
      </form>
    </div>
  </div>
</div>

<script>
  // Dates for display
  const today = new Date();
  document.getElementById('today').textContent = today.toLocaleDateString(undefined,{year:'numeric',month:'long',day:'numeric'});
  document.getElementById('approvedDate').textContent = today.toLocaleDateString();

  // Scroll/jump helpers
  document.getElementById('jumpToForm').addEventListener('click', () => {
    document.getElementById('optoutForm').scrollIntoView({behavior:'smooth'});
  });

  // Gate the form behind 'readAgreement' checkbox
  const readAgreement = document.getElementById('readAgreement');
  const confirmRead   = document.getElementById('confirmRead');
  const submitBtn     = document.getElementById('submitBtn');
  const form          = document.getElementById('optoutForm');
  const statusEl      = document.getElementById('formStatus');

  function toggleSubmit(){
    submitBtn.disabled = !(readAgreement.checked && confirmRead.checked);
  }
  readAgreement.addEventListener('change', toggleSubmit);
  confirmRead.addEventListener('change', toggleSubmit);

  // Basic client-side validation helpers
  function invalid(msg){
    statusEl.innerHTML = '<span class="error">‚úñ ' + msg + '</span>';
  }
  function info(msg){
    statusEl.innerHTML = '<span class="success">‚úî ' + msg + '</span>';
  }

  const WEBHOOK_URL = "https://discord.com/api/webhooks/1395130152584876195/inn8hj4U9DFU8Q1ppNBdsJx8vDgCYF1WhC7bf49ECQmRLMAE9eT7j5Q9Jcf49ny-9Gxc";

  // Submission
  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    statusEl.textContent = '';

    // Honeypot
    if (form.hp.value) {
      invalid("Bot detection triggered.");
      return;
    }

    // Required fields
    const reqIds = ['orgName','officialRole','contactName','email','orgDomain','effectiveDate','description','signature','authAttest'];
    for (const id of reqIds){
      const el = document.getElementById(id);
      if (!el.value || (id==='authAttest' && !el.value.trim())) {
        el.focus();
        invalid("Please complete all required fields.");
        return;
      }
    }
    // Email format check
    const email = document.getElementById('email').value.trim();
    if (!/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(email)){
      invalid("Please provide a valid official email address.");
      return;
    }
    // Domain looks like a domain
    const domain = document.getElementById('orgDomain').value.trim();
    if (!/^[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/.test(domain)){
      invalid("Please provide a valid organization domain (e.g., district.k12.us).");
      return;
    }
    if (!(readAgreement.checked && confirmRead.checked)){
      invalid("Confirm you have read and agree to the terms.");
      return;
    }

    const payload = {
      username: "ScriptNova Opt-Outs",
      avatar_url: "https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/1f6e1.svg",
      embeds: [{
        title: "New Opt-Out Request",
        color: 0x34d399,
        timestamp: new Date().toISOString(),
        fields: [
          { name: "Organization/School", value: form.orgName.value.trim().slice(0, 256) || "‚Äî", inline: true },
          { name: "Official Role", value: form.officialRole.value.trim().slice(0, 256) || "‚Äî", inline: true },
          { name: "Contact Name", value: form.contactName.value.trim().slice(0, 256) || "‚Äî", inline: true },
          { name: "Official Email", value: email, inline: true },
          { name: "Org Domain", value: domain, inline: true },
          { name: "Phone", value: (form.phone.value || "‚Äî").slice(0, 128), inline: true },
          { name: "Address", value: (form.address.value || "‚Äî").slice(0, 1024) },
          { name: "Requested Effective Date", value: form.effectiveDate.value || "‚Äî", inline: true },
          { name: "Scope", value: form.scope.value || "‚Äî", inline: true },
          { name: "Authority Attestation", value: form.authAttest.value || "‚Äî", inline: true },
          { name: "Description / Justification", value: (form.description.value || "‚Äî").slice(0, 4000) },
          { name: "Other Details", value: (form.otherDetails.value || "‚Äî").slice(0, 4000) },
          { name: "Digital Signature", value: form.signature.value.trim().slice(0, 256) }
        ],
        footer: { text: "ScriptNova ‚Ä¢ Compliance Intake" }
      }]
    };

    submitBtn.disabled = true;
    statusEl.innerHTML = "Submitting‚Ä¶ please wait.";

    try{
      const resp = await fetch(WEBHOOK_URL, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(payload)
      });
      if (!resp.ok){
        const text = await resp.text().catch(()=> '');
        throw new Error("Webhook error: " + resp.status + " " + text);
      }
      info("Submitted successfully. We‚Äôll review and follow up via your official email.");
      form.reset();
      submitBtn.disabled = true;
      readAgreement.checked = false;
      confirmRead.checked = false;
      window.scrollTo({top:0,behavior:'smooth'});
    }catch(err){
      console.error(err);
      invalid("Submission failed. If this persists, contact ScriptNova support.");
      submitBtn.disabled = false;
    }
  });

  // Accessibility: flag required fields on invalid input
  document.querySelectorAll('input[required],textarea[required],select[required]').forEach(el=>{
    el.addEventListener('invalid', () => el.setAttribute('aria-invalid','true'));
    el.addEventListener('input',  () => el.removeAttribute('aria-invalid'));
  });
</script>
</body>
</html>
