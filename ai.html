<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gomega AI</title>
<style>
  body {
    margin:0;
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg,#0f172a,#1e293b);
    color:#f1f5f9;
    display:flex;
    flex-direction:column;
    height:100vh;
  }
  header {
    background:#0ea5e9;
    padding:12px 18px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    font-weight:bold;
    font-size:18px;
  }
  #chat {
    flex:1;
    overflow-y:auto;
    padding:16px;
    display:flex;
    flex-direction:column;
    gap:12px;
  }
  .bubble {
    max-width:75%;
    padding:10px 14px;
    border-radius:12px;
    line-height:1.4;
    animation:fadeIn .25s ease;
  }
  .bubble.user {
    background:#0ea5e9;
    align-self:flex-end;
    color:#fff;
    border-bottom-right-radius:4px;
  }
  .bubble.ai {
    background:#334155;
    align-self:flex-start;
    color:#e2e8f0;
    border-bottom-left-radius:4px;
    white-space:pre-wrap;
  }
  @keyframes fadeIn { from{opacity:0; transform:translateY(5px)} to{opacity:1; transform:none} }

  #typing {
    font-style:italic;
    color:#94a3b8;
    padding:0 14px;
    display:none;
  }

  footer {
    padding:12px;
    display:flex;
    gap:8px;
    background:#1e293b;
  }
  #prompt {
    flex:1;
    padding:10px;
    border-radius:8px;
    border:none;
    outline:none;
    font-size:14px;
  }
  button {
    padding:10px 16px;
    border:none;
    border-radius:8px;
    font-weight:bold;
    cursor:pointer;
  }
  button.send { background:#0ea5e9; color:white; }
  button.upload { background:#475569; color:white; }

  .photo {
    max-width:200px;
    border-radius:8px;
    margin-top:6px;
  }

  aside {
    background:#0f172a;
    padding:12px;
    border-top:1px solid #334155;
    font-size:14px;
    display:flex;
    justify-content:space-between;
    align-items:center;
  }
  .model {
    margin:4px 0;
    cursor:pointer;
  }
</style>
</head>
<body>
<header>Gomega AI <span id="status">Free</span></header>

<div class="container" style="flex:1; display:flex; flex-direction:row;">
  <div id="chat"></div>
</div>

<div id="typing">Gomega AI is typing‚Ä¶</div>

<footer>
  <input id="prompt" placeholder="Ask me anything..." />
  <button class="send" onclick="sendMessage()">Send</button>
  <button class="upload" onclick="uploadPhoto()">üì∑</button>
  <input type="file" id="photoInput" accept="image/*" style="display:none" />
</footer>

<aside>
  <div>
    <div class="model" onclick="setModel('v5')">Gomega V5.0</div>
    <div class="model" onclick="setModel('mini')">Gomega 5mini</div>
    <div class="model" onclick="setModel('v7')">Gomega V7</div>
    <div class="model" onclick="setModel('premium')">Gomega Premium</div>
  </div>
  <div>Messages: <span id="msgCount">0</span></div>
</aside>

<script>
/* ==== CONFIG ==== */
const API_KEY = "PASTE-YOUR-OPENAI-KEY-HERE"; // <-- put your key here
const API_URL = "https://api.openai.com/v1/chat/completions";

/* ==== STATE ==== */
let currentModel = "v5";
let isTyping = false;
let msgCount = 0;
let photoCount = 0;
let premium = false;

/* ==== UI ==== */
function addMessage(text, sender="ai", isPhoto=false) {
  const chat = document.getElementById("chat");
  const bubble = document.createElement("div");
  bubble.className = "bubble " + sender;
  if(isPhoto){
    const img = document.createElement("img");
    img.src = text;
    img.className = "photo";
    bubble.appendChild(img);
  } else {
    bubble.textContent = text;
  }
  chat.appendChild(bubble);
  chat.scrollTop = chat.scrollHeight;
}
function setModel(m) {
  if(m==="premium"){ premium=true; document.getElementById("status").textContent="Premium"; }
  else { premium=false; document.getElementById("status").textContent="Free"; }
  currentModel=m;
}

/* ==== AI ==== */
async function sendMessage() {
  const input = document.getElementById("prompt");
  const text = input.value.trim();
  if(!text || isTyping) return;

  // free limits
  if(!premium && msgCount>=20){ addMessage("‚ö†Ô∏è Free users limited to 20 messages/day.","ai"); return; }

  addMessage(text,"user");
  input.value="";
  msgCount++;
  document.getElementById("msgCount").textContent=msgCount;

  isTyping=true;
  document.getElementById("typing").style.display="block";

  try {
    const res = await fetch(API_URL,{
      method:"POST",
      headers:{
        "Content-Type":"application/json",
        "Authorization":`Bearer ${API_KEY}`
      },
      body:JSON.stringify({
        model:"gpt-4o-mini", // keep consistent
        messages:[{role:"system",content:`You are Gomega AI, built by ScriptNova. If asked who made you: say "I was made by ScriptNova. Follow scriptnovaa on Instagram."`},{role:"user",content:text}],
        temperature: currentModel==="mini"?0.3:0.7
      })
    });
    const data = await res.json();
    const reply = data.choices?.[0]?.message?.content || "‚ùå Error: No response.";
    await typeOut(reply);
  } catch(err){
    addMessage("‚ùå Error: "+err.message,"ai");
  }

  isTyping=false;
  document.getElementById("typing").style.display="none";
}

async function typeOut(text){
  const chat = document.getElementById("chat");
  const bubble = document.createElement("div");
  bubble.className="bubble ai";
  chat.appendChild(bubble);
  chat.scrollTop=chat.scrollHeight;

  const delay = premium?15:35;
  for(let i=0;i<text.length;i++){
    bubble.textContent+=text[i];
    await new Promise(r=>setTimeout(r,delay));
    chat.scrollTop=chat.scrollHeight;
  }
}

/* ==== PHOTO ==== */
function uploadPhoto(){
  if(isTyping) return;
  if(!premium && photoCount>=5){ addMessage("‚ö†Ô∏è Free users limited to 5 photos/day.","ai"); return; }
  document.getElementById("photoInput").click();
}
document.getElementById("photoInput").addEventListener("change",e=>{
  const file=e.target.files[0];
  if(!file) return;
  const reader=new FileReader();
  reader.onload=()=>{
    addMessage(reader.result,"user",true);
    photoCount++;
  };
  reader.readAsDataURL(file);
});

/* ==== ENTER KEY ==== */
document.getElementById("prompt").addEventListener("keydown",e=>{
  if(e.key==="Enter") sendMessage();
});
</script>
</body>
</html>