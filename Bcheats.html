<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Demo Lobby (Front-End Only)</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&display=swap" rel="stylesheet" />
    <style>
      :root {
        --bg: #0b1220;
        --panel: #111a2b;
        --panel-2: #0e1726;
        --text: #e8eefc;
        --muted: #a8b3cf;
        --brand: #5b8cff;
        --brand-2: #7aa2ff;
        --ok: #17c964;
        --warn: #f5a524;
        --err: #f31260;
        --ring: rgba(123, 168, 255, 0.5);
      }

      * { box-sizing: border-box; }
      html, body { height: 100%; }
      body {
        margin: 0;
        font-family: Nunito, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
        background:
          radial-gradient(1200px 1200px at 120% -20%, #223458 0%, transparent 60%),
          radial-gradient(900px 800px at -10% 120%, #162443 0%, transparent 60%),
          linear-gradient(180deg, var(--bg), #0a1120 60%, #090f1d);
        color: var(--text);
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }

      .shell {
        min-height: 100%;
        display: grid;
        grid-template-rows: auto 1fr auto;
      }

      header {
        padding: 20px 16px;
      }
      .brand {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        user-select: none;
      }
      .logo {
        width: 36px; height: 36px; border-radius: 10px;
        display: grid; place-items: center; color: white;
        background: linear-gradient(135deg, var(--brand), var(--brand-2));
        box-shadow: 0 10px 30px rgba(91,140,255,0.35), inset 0 0 20px rgba(255,255,255,0.05);
      }
      .brand h1 {
        font-size: 18px; margin: 0; letter-spacing: 0.4px; font-weight: 800;
      }

      main {
        display: grid;
        place-items: center;
        padding: 24px 16px 48px;
      }

      .card {
        width: 100%;
        max-width: 720px;
        background:
          radial-gradient(120% 180% at 100% 0%, rgba(91,140,255,0.08), transparent 60%),
          linear-gradient(180deg, var(--panel), var(--panel-2));
        border: 1px solid rgba(255,255,255,0.06);
        border-radius: 18px;
        box-shadow:
          0 20px 60px rgba(2, 12, 33, 0.6),
          inset 0 1px 0 rgba(255,255,255,0.05);
        overflow: hidden;
      }

      .card__head {
        padding: 20px 22px;
        border-bottom: 1px solid rgba(255,255,255,0.06);
        display: flex; align-items: center; justify-content: space-between;
        gap: 12px;
      }
      .card__title { font-size: 20px; margin: 0; font-weight: 800; letter-spacing: 0.3px; }
      .badge {
        font-size: 12px; padding: 6px 10px; border-radius: 999px;
        color: white; background: linear-gradient(135deg, #7b5bff, #9a85ff);
        border: 1px solid rgba(255,255,255,0.12);
      }

      .card__body { padding: 22px; display: grid; gap: 18px; }

      .row { display: grid; gap: 12px; }
      @media (min-width: 720px) {
        .row--2 { grid-template-columns: 1fr 1fr; }
      }

      label {
        display: block; font-size: 13px; color: var(--muted); margin: 0 0 6px;
        letter-spacing: 0.2px;
      }

      .input {
        position: relative;
      }
      .input input {
        width: 100%;
        padding: 14px 14px 14px 44px;
        background: rgba(255,255,255,0.04);
        border: 1px solid rgba(255,255,255,0.09);
        border-radius: 12px; color: var(--text); font-size: 16px; font-weight: 700;
        outline: none; transition: 0.2s border, 0.2s box-shadow, 0.2s background;
      }
      .input input::placeholder { color: #7f8bad; font-weight: 600; }
      .input input:focus {
        border-color: rgba(123,168,255,0.6);
        box-shadow: 0 0 0 4px var(--ring);
        background: rgba(255,255,255,0.06);
      }
      .input .leading {
        position: absolute; left: 12px; top: 50%; transform: translateY(-50%);
        opacity: 0.8; font-size: 16px;
      }

      .switch {
        display: inline-flex; align-items: center; gap: 10px; user-select: none;
      }
      .switch input { display: none; }
      .switch .track {
        width: 50px; height: 28px; border-radius: 999px; position: relative;
        background: rgba(255,255,255,0.12);
        border: 1px solid rgba(255,255,255,0.1);
        transition: 0.2s background, 0.2s border;
      }
      .switch .thumb {
        width: 22px; height: 22px; border-radius: 50%; position: absolute; top: 2px; left: 2px;
        background: #fff; transition: 0.25s transform, 0.25s box-shadow;
        box-shadow: 0 6px 16px rgba(0,0,0,0.25);
      }
      .switch input:checked + .track { background: linear-gradient(135deg, var(--brand), var(--brand-2)); border-color: transparent; }
      .switch input:checked + .track .thumb { transform: translateX(22px); }

      .hint {
        font-size: 13px; color: var(--muted);
      }

      .actions {
        display: flex; gap: 12px; flex-wrap: wrap; align-items: center; justify-content: flex-end; margin-top: 6px;
      }
      .btn {
        appearance: none; border: 0; outline: none; cursor: pointer;
        border-radius: 12px; padding: 12px 16px; font-weight: 800; font-size: 15px;
        transition: transform .06s ease-in-out, box-shadow .2s, background .2s, opacity .2s;
      }
      .btn:active { transform: translateY(1px) scale(0.995); }
      .btn--ghost {
        color: var(--text);
        background: rgba(255,255,255,0.06);
        border: 1px solid rgba(255,255,255,0.09);
      }
      .btn--primary {
        color: #0c1220;
        background: linear-gradient(135deg, #b6cbff, #8fb0ff 60%, #6f97ff);
        box-shadow: 0 14px 28px rgba(91,140,255,0.35), inset 0 0 20px rgba(255,255,255,0.25);
      }
      .btn[disabled] { opacity: .6; cursor: not-allowed; }

      .divider {
        height: 1px; background: rgba(255,255,255,0.06); margin: 6px 0;
      }

      .toast {
        position: fixed; inset-inline: 0; bottom: 20px; display: grid; place-items: center; pointer-events: none;
      }
      .toast__inner {
        pointer-events: auto;
        padding: 12px 16px; border-radius: 12px;
        background: #0f1a31; border: 1px solid rgba(255,255,255,0.09);
        box-shadow: 0 16px 40px rgba(0,0,0,0.45);
        font-weight: 700; font-size: 14px;
      }

      footer {
        padding: 28px 16px 34px;
        color: var(--muted);
        font-size: 13px;
        text-align: center;
      }
      .testing {
        display: inline-block;
        margin-top: 8px;
        padding: 6px 10px;
        border-radius: 999px;
        background: rgba(255,255,255,0.06);
        border: 1px solid rgba(255,255,255,0.09);
        color: #fff;
        font-weight: 800;
        letter-spacing: .3px;
      }
    </style>
  </head>
  <body>
    <div class="shell">
      <header>
        <div class="brand" aria-label="App branding">
          <div class="logo" aria-hidden="true">★</div>
          <h1>Demo Lobby</h1>
        </div>
      </header>

      <main>
        <section class="card" aria-labelledby="card-title">
          <div class="card__head">
            <h2 id="card-title" class="card__title">Join a Room</h2>
            <span class="badge">Front-End Only</span>
          </div>

          <div class="card__body">
            <div class="row row--2">
              <div>
                <label for="room">Room code</label>
                <div class="input">
                  <span class="leading" aria-hidden="true">#</span>
                  <input id="room" name="room" inputmode="numeric" autocomplete="one-time-code"
                         placeholder="e.g. 123-456" maxlength="12" />
                </div>
              </div>

              <div>
                <label for="name">Display name</label>
                <div class="input">
                  <span class="leading" aria-hidden="true">👤</span>
                  <input id="name" name="name" placeholder="Your name" maxlength="24" />
                </div>
              </div>
            </div>

            <div class="row">
              <div class="switch" role="switch" aria-checked="true" tabindex="0" id="opt-incognito-wrap">
                <input type="checkbox" id="opt-incognito" checked />
                <span class="track"><span class="thumb"></span></span>
                <span>Incognito mode</span>
              </div>
              <div class="switch" role="switch" aria-checked="false" tabindex="0" id="opt-filter-wrap">
                <input type="checkbox" id="opt-filter" />
                <span class="track"><span class="thumb"></span></span>
                <span>Friendly names only</span>
              </div>
            </div>

            <p class="hint">This is a demo UI. No real game or service is contacted.</p>

            <div class="divider"></div>

            <div class="actions">
              <button class="btn btn--ghost" type="button" id="btn-clear">Clear</button>
              <button class="btn btn--primary" type="button" id="btn-join">Join</button>
            </div>
          </div>
        </section>
      </main>

      <footer>
        <div>No ads. No social links. Pure front-end.</div>
        <div class="testing" aria-live="polite">testing only</div>
      </footer>
    </div>

    <div class="toast" aria-live="polite" aria-atomic="true" id="toast" hidden>
      <div class="toast__inner" id="toast-content">Joined!</div>
    </div>

    <script>
      // Accessibility helpers for custom switches
      function wireSwitch(wrapperId, inputId) {
        const wrap = document.getElementById(wrapperId);
        const input = document.getElementById(inputId);
        const sync = () => wrap.setAttribute('aria-checked', String(input.checked));
        wrap.addEventListener('click', () => { input.checked = !input.checked; sync(); });
        wrap.addEventListener('keydown', (e) => {
          if (e.key === ' ' || e.key === 'Enter') { e.preventDefault(); input.checked = !input.checked; sync(); }
        });
        sync();
      }
      wireSwitch('opt-incognito-wrap', 'opt-incognito');
      wireSwitch('opt-filter-wrap', 'opt-filter');

      // Basic sanitization
      const elRoom = document.getElementById('room');
      const elName = document.getElementById('name');

      elRoom.addEventListener('input', () => {
        // allow digits and hyphen; compress spaces
        elRoom.value = elRoom.value.replace(/[^\d\- ]+/g, '').replace(/\s+/g, '');
      });

      elName.addEventListener('input', () => {
        // strip control chars; trim length
        elName.value = elName.value.replace(/[\u0000-\u001F\u007F]/g, '');
      });

      // Toast feedback
      const toast = document.getElementById('toast');
      const toastContent = document.getElementById('toast-content');
      let toastTimer;
      function showToast(msg) {
        toastContent.textContent = msg;
        toast.hidden = false;
        clearTimeout(toastTimer);
        toastTimer = setTimeout(() => { toast.hidden = true; }, 2400);
      }

      // Actions
      document.getElementById('btn-clear').addEventListener('click', () => {
        elRoom.value = '';
        elName.value = '';
        showToast('Cleared.');
      });

      document.getElementById('btn-join').addEventListener('click', () => {
        const room = elRoom.value.trim();
        const name = elName.value.trim();

        if (!room) { showToast('Enter a room code.'); return; }
        if (!name) { showToast('Enter your display name.'); return; }

        // Front-end-only demo behavior — no network calls.
        const incognito = document.getElementById('opt-incognito').checked;
        const friendly = document.getElementById('opt-filter').checked;

        // Simple “friendly names” check (demo)
        if (friendly && /[^a-z0-9 _\-]/i.test(name)) {
          showToast('Name must be letters/numbers/space/underscore/hyphen.');
          return;
        }

        // Pretend to join successfully
        showToast(`Joined room ${room} as "${name}"${incognito ? ' (incognito)' : ''}.`);
      });
    </script>
  </body>
</html>
